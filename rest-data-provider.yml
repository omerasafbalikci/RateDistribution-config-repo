spring:
  application:
    name: rest-data-provider
  data:
    cache:
      type: redis
    redis:
      host: localhost
      port: 6379

server:
  port: 8083

eureka:
  client:
    serviceUrl:
      defaultZone: http://localhost:8761/eureka

simulator:
  update-interval-millis: 1000       # Her 1 saniyede bir update
  max-updates: 0                    # 0 = sınırsız

  # Korelasyon matrisi (boyut=3x3 örneği)
  correlationMatrix:
    - [1.0, 0.20, 0.10]
    - [0.20, 1.0, 0.30]
    - [0.10, 0.30, 1.0]

  # modelType: "GARCH11", "EGARCH" veya "GJR-EGARCH"
  modelType: "GJR-EGARCH"

  shockConfig:
    smallShockWeekly: 2.5   # Haftada ortalama 2.5 küçük şok
    mediumShockMonthly: 1.5 # Ayda ortalama 1.5 orta şok
    bigShockYearly: 1.0     # Yılda ortalama 1 büyük şok

    # Magnitude aralıkları
    smallShockMinPct: 0.001   # %0.1
    smallShockMaxPct: 0.005   # %0.5
    mediumShockMinPct: 0.01   # %1
    mediumShockMaxPct: 0.05   # %5
    bigShockMinPct: 0.10      # %10
    bigShockMaxPct: 0.50      # %50

  # Basit veya Markov tabanlı rejim geçişi
  enableRegimeSwitching: true
  useMarkovSwitching: false

  # NxN Markov matrisi örneği (burada 3 rejimlik bir örnek)
  # 0: LOW_VOL, 1: MID_VOL, 2: HIGH_VOL (örnek)
  regimeTransitionMatrix:
    - [0.80, 0.15, 0.05]
    - [0.10, 0.75, 0.15]
    - [0.05, 0.15, 0.80]

  regimeLowVol:
    volScale: 1.0
    meanDuration: 500
    transitionProb: 0.01
  regimeHighVol:
    volScale: 1.01
    meanDuration: 200
    transitionProb: 0.02

  # Haber/Olay şokları
  eventShocks:
    - name: "FOMC Rate Hike"
      dateTime: "2025-01-15T12:00:00Z"
      jumpMean: 0.0002
      jumpVol: 0.0005
    - name: "Geopolitical Tension"
      dateTime: "2025-02-20T09:00:00Z"
      jumpMean: 0.0003
      jumpVol: 0.0006
  
  newsApiKey: "33f7ade6f9ce488aa97ad54c9d4191ad"

  # Makroekonomik göstergeler
  # Makro veri kaynağı (örnek)
  macroDataApiUrl: "https://macro-api.free.beeceptor.com/api/macro-data"
  macroIndicators:
    - name: "InterestRate"
      value: 0.05
      sensitivityToDrift: 0.02
      sensitivityToVol: 0.02
    - name: "Inflation"
      value: 0.03
      sensitivityToDrift: 0.01
      sensitivityToVol: 0.02

  # Hafta sonu gap
  weekendHandling:
    enabled: true
    weekendGapJumpMean: 0.00001
    weekendGapJumpVol: 0.00002

  # Seans bazlı vol multiplier
  sessionVolFactors:
    - startHour: 0
      endHour: 6
      volMultiplier: 0.999
    - startHour: 6
      endHour: 13
      volMultiplier: 1.0
    - startHour: 13
      endHour: 17
      volMultiplier: 1.001
    - startHour: 17
      endHour: 24
      volMultiplier: 1.0

  # Hacim bazlı volatilite ölçeklendirme
  volumeVolatilityScalingEnabled: true
  volumeVolatilityFactor: 0.000000001

  # Tatil listesi
  holidays:
    - startDateTime: "2024-12-24T00:00:00Z"
      endDateTime:   "2024-12-26T00:00:00Z"
      name: "Christmas"
    - startDateTime: "2025-01-01T00:00:00Z"
      endDateTime:   "2025-01-02T00:00:00Z"
      name: "New Year"

  # Tarihsel veri path (CSV, JSON vb.)
  historicalDataPath: "src/main/resources/data/historical_fx.csv"

  # Kur tanımları (Örnek)
  rates:
    - rateName: "EURUSD"
      initialPrice: 1.037
      drift: 0.00002
      baseSpread: 0.0001
      garchParams:
        omega: 0.00000001
        alpha: 0.003
        beta: 0.94
      jumpIntensity: 0.00001
      jumpMean: 0.0
      jumpVol:  0.00002
      useMeanReversion: true
      kappa: 0.01
      theta: 1.037

    - rateName: "USDTRY"
      initialPrice: 100.0
      drift: 0.0
      baseSpread: 0.02
      garchParams:
        omega:  0.000000001
        alpha: 0.001
        beta: 0.98
      jumpIntensity: 0.0
      jumpMean: 0.0
      jumpVol: 0.0
      useMeanReversion: true
      kappa: 0.01
      theta: 100.0

    - rateName: "XAUUSD"
      initialPrice: 1850.0
      drift: 0.00001
      baseSpread: 0.3
      garchParams:
        omega:  0.0000001
        alpha: 0.003
        beta: 0.92
      jumpIntensity: 0.00001
      jumpMean: 0.0
      jumpVol: 0.0001
      useMeanReversion: false
      kappa: 0.0
      theta: 1800.0

management:
  endpoints:
    web:
      exposure:
        include: "*"
  endpoint:
    prometheus:
      enabled: true
    metrics:
      enabled: true
  zipkin:
    tracing:
      endpoint: "http://zipkin:9411/api/v2/spans"
  tracing:
    sampling:
      probability: 1.0
